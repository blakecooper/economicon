 <!DOCTYPE html>
<html>
<head>
<title>Starting amounts simulator</title>
		<script>
			const PRODUCE = 0;
			const PURCHASE = 1;

			function $(id) {
				return document.getElementById(id);
			};

			function cost(action, commodity, unitOfPurchase) {
				let marketCommodity = "market" + commodity;
				let purchaseUnit = "market";

				if (unitOfPurchase === "nativecurrency") {
					purchaseUnit = purchaseUnit + $("peg").value;
				} else {
					purchaseUnit = purchaseUnit + unitOfPurchase;
				};

				let factor = 1;

				if (action === PRODUCE) {
					factor = .5;
				};

				return factor * (Number($(purchaseUnit).value) / Number($(marketCommodity).value));
			};

			function simulate() {
				$("productionCostForGrain").innerHTML = cost(PRODUCE, "grain", "nativecurrency");
				$("productionCostForOil").innerHTML = cost(PRODUCE, "oil", "nativecurrency");
				$("productionCostForTech").innerHTML = cost(PRODUCE, "tech", "nativecurrency");

				$("totalGrainProduced").innerHTML = (Number($("reservesNativeCurrency").value) / cost(PRODUCE, "grain", "nativecurrency")) + (Number($("reservesGold").value) / cost(PRODUCE, "grain", "gold"));
				$("totalOilProduced").innerHTML = (Number($("reservesNativeCurrency").value) / cost(PRODUCE, "oil", "nativecurrency")) + (Number($("reservesGold").value) / cost(PRODUCE, "oil", "gold"));
				$("totalTechProduced").innerHTML = (Number($("reservesNativeCurrency").value) / cost(PRODUCE, "tech", "nativecurrency")) + (Number($("reservesGold").value) / cost(PRODUCE, "tech", "gold"));

				$("totalGrainPurchase").innerHTML = (Number($("reservesNativeCurrency").value) / cost(PURCHASE, "grain", "nativecurrency")) + (Number($("reservesGold").value) / cost(PURCHASE, "grain", "gold"));
				$("totalOilPurchase").innerHTML = (Number($("reservesNativeCurrency").value) / cost(PURCHASE, "oil", "nativecurrency")) + (Number($("reservesGold").value) / cost(PURCHASE, "oil", "gold"));
				$("totalTechPurchase").innerHTML = (Number($("reservesNativeCurrency").value) / cost(PURCHASE, "tech", "nativecurrency")) + (Number($("reservesGold").value) / cost(PURCHASE, "tech", "gold"));
			};
		</script>
</head>
<body>

<h1>Economicon</h1>
<p>Starting amounts simulator</p>
<p><b>In reserves:</b>
<br>Gold: <input type="text" id="reservesGold" value="0">
<br>Native currency: <input type="text" id="reservesNativeCurrency" value="0">
<br>Player 2 currency: <input type="text" id="reservesP2Currency" value="0">
<br>Player 3 currency: <input type="text" id="reservesP3Currency" value="0">
<br>Player 4 currency: <input type="text" id="reservesP4Currency" value="0">
<br>Grain:<input type="text" id="reservesGrain" value="0">
<br>Oil:<input type="text" id="reservesOil" value="0">
<br>Tech:<input type="text" id="reservesTech" value="0">
<br>Peg: <select id="peg" id="peg">
	<option value="gold">Gold</option>
	<option value="grain">Grain</option>
	<option value="oil">Oil</option>
	<option value="tech">Tech</option>
	<option value="p2currency">Player 2 currency</option>
	<option value="p3currency">Player 3 currency</option>
	<option value="p4currency">Player 4 currency</option>
	<option value="nativecurrency">No peg</option>
</select>

<p><b>In the marketplace:</b>
<br>Gold: <input type="text" id="marketgold" value="1">
<br>Native currency: <input type="text" id="marketnativecurrency" value="1">
<br>Player 2 currency: <input type="text" id="marketp2currency" value="1">
<br>Player 3 currency: <input type="text" id="marketp3currency" value="1">
<br>Player 4 currency: <input type="text" id="marketp4currency" value="1">
<br>Grain:<input type="text" id="marketgrain" value="1">
<br>Oil:<input type="text" id="marketoil" value="1">
<br>Tech:<input type="text" id="markettech" value="1">

<p><button type="button" onClick="simulate()">Simulate!</button>
<p>
<div id="results">
		<p>Production cost for grain: <div id="productionCostForGrain"></div>
		<br>Production cost for oil: <div id="productionCostForOil"></div>
		<br>Production cost for tech: <div id="productionCostForTech"></div>
		
		<p>Total amount of grain that can be produced: <div id="totalGrainProduced"></div>
		<br>Total ammount of oil that can be produced: <div id="totalOilProduced"></div>
		<br>Total amount of tech that can be produced: <div id="totalTechProduced"></div>

		<p>Total amount of grain that can be purchased: <div id="totalGrainPurchase"></div>
		<br>Total amount of oil that can be purhcased: <div id="totalOilPurchase"></div>
		<br>Total amount of tech that can be purchased: <div id="totalTechPurchase"></div>

</div>

</body>
</html> 
